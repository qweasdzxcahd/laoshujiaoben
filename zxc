-- 加载WindUI库
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- 创建水印
local sg = Instance.new("ScreenGui")
sg.Name = "SnowWatermark"
sg.ResetOnSpawn = false
sg.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
sg.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Name = "WatermarkFrame"
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
frame.BackgroundTransparency = 0.2
frame.BorderSizePixel = 0
frame.Size = UDim2.new(0, 220, 0, 45)
frame.Position = UDim2.new(1, -230, 1, -100)
frame.Parent = sg

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 8)
corner.Parent = frame

local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(100, 150, 255)
stroke.Thickness = 2
stroke.Transparency = 0.3
stroke.Parent = frame

local label = Instance.new("TextLabel")
label.Name = "大司马脚本"
label.Text = "付费版"
label.Font = Enum.Font.GothamBold
label.TextSize = 16
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.TextStrokeColor3 = Color3.fromRGB(100, 150, 255)
label.TextStrokeTransparency = 0.5
label.BackgroundTransparency = 1
label.Size = UDim2.new(1, -10, 1, 0)
label.Position = UDim2.new(0, 5, 0, 0)
label.TextXAlignment = Enum.TextXAlignment.Left
label.TextYAlignment = Enum.TextYAlignment.Center
label.Parent = frame

local icon = Instance.new("ImageLabel")
icon.Name = "Icon"
icon.Image = "rbxassetid://18374456807"
icon.BackgroundTransparency = 1
icon.Size = UDim2.new(0, 30, 0, 30)
icon.Position = UDim2.new(0, 8, 0.5, -15)
icon.Parent = frame

label.Position = UDim2.new(0, 45, 0, 0)
label.Size = UDim2.new(1, -50, 1, 0)

-- 创建主窗口
local Window = WindUI:CreateWindow({
    Title = "大司马脚本",
    Center = true,
    AutoShow = true,
    Size = UDim2.fromOffset(500, 400),
})

-- 编辑打开按钮
Window:EditOpenButton({
    Title = "大司马",
    Icon = "crown",
    CornerRadius = UDim.new(0, 8),
    StrokeThickness = 3,
    Color = ColorSequence.new(
        Color3.fromRGB(255, 255, 0),  
        Color3.fromRGB(255, 165, 0),  
        Color3.fromRGB(255, 0, 0),    
        Color3.fromRGB(139, 0, 0)     
    ),
    Draggable = true,
})

-- 添加标签
Window:Tag({
    Title = "VIP版",
    Radius = 5,
    Color = Color3.fromHex("#FFB347"),
})

-- 创建标签页
local Main = Window:Section({Title = "主功能", Opened = true})

local PlayerTab = Main:Tab({ Title = "玩家", Icon = "user" })
local CombatTab = Main:Tab({ Title = "战斗", Icon = "swords" })
local AutoTab = Main:Tab({ Title = "自动", Icon = "bot" })
local ESPTab = Main:Tab({ Title = "透视", Icon = "view" })
local BypassTab = Main:Tab({ Title = "绕过", Icon = "key" })

-- 玩家标签页内容
PlayerTab:Dropdown({
    Title = "选择动画包",
    Values = { "默认", "英雄", "忍者", "僵尸", "宇航员", "牛仔" },
    Callback = function(Value)
        print("选择动画包:", Value)
    end
})

PlayerTab:Slider({
    Title = "移动速度",
    Value = {
        Min = 1,
        Max = 10,
        Default = 1,
    },
    Callback = function(value)
        print("移动速度设置为:", value)
    end
})

PlayerTab:Toggle({
    Title = "加速移动",
    Value = false,
    Callback = function(state)
        print("加速移动:", state)
    end
})

PlayerTab:Toggle({
    Title = "连跳",
    Value = false,
    Callback = function(state)
        print("连跳:", state)
    end
})

-- 战斗标签页内容
CombatTab:Toggle({
    Title = "自动攻击",
    Value = false,
    Callback = function(state)
        print("自动攻击:", state)
    end
})

CombatTab:Toggle({
    Title = "自动踩踏",
    Value = false,
    Callback = function(state)
        print("自动踩踏:", state)
    end
})

CombatTab:Dropdown({
    Title = "攻击模式",
    Values = { "拳击", "踢击", "超级拳", "飞踢" },
    Callback = function(Value)
        print("攻击模式:", Value)
    end
})

CombatTab:Toggle({
    Title = "自动护甲",
    Value = false,
    Callback = function(state)
        print("自动护甲:", state)
    end
})

-- 自动标签页内容
AutoTab:Toggle({
    Title = "自动拾取现金",
    Value = false,
    Callback = function(state)
        print("自动拾取现金:", state)
    end
})

AutoTab:Toggle({
    Title = "自动拾取物品",
    Value = false,
    Callback = function(state)
        print("自动拾取物品:", state)
    end
})

AutoTab:Toggle({
    Title = "自动抢银行",
    Value = false,
    Callback = function(state)
        print("自动抢银行:", state)
    end
})

AutoTab:Toggle({
    Title = "自动活动",
    Value = false,
    Callback = function(state)
        print("自动活动:", state)
    end
})

-- 透视标签页内容
ESPTab:Toggle({
    Title = "玩家透视",
    Value = false,
    Callback = function(state)
        print("玩家透视:", state)
    end
})

ESPTab:Toggle({
    Title = "现金透视",
    Value = false,
    Callback = function(state)
        print("现金透视:", state)
    end
})

ESPTab:Toggle({
    Title = "ATM透视",
    Value = false,
    Callback = function(state)
        print("ATM透视:", state)
    end
})

ESPTab:Colorpicker({
    Title = "透视颜色",
    Default = Color3.fromRGB(255, 255, 255),
    Callback = function(color)
        print("透视颜色:", color)
    end
})

-- 绕过标签页内容
BypassTab:Button({
    Title = "绕过检测",
    Callback = function()
        print("执行绕过检测")
        Window:Notify({
            Title = "绕过成功",
            Content = "已成功绕过游戏检测",
            Duration = 3,
            Icon = "shield",
        })
    end
})

BypassTab:Button({
    Title = "解锁表情",
    Callback = function()
        print("解锁表情")
    end
})

BypassTab:Button({
    Title = "破解物品格",
    Callback = function()
        print("破解物品格")
    end
})

BypassTab:Toggle({
    Title = "防管理员",
    Value = false,
    Callback = function(state)
        print("防管理员:", state)
    end
})

-- 添加一些实用功能
local UtilityTab = Main:Tab({ Title = "实用", Icon = "settings" })

UtilityTab:Button({
    Title = "重新生成角色",
    Callback = function()
        game:GetService("Players").LocalPlayer.Character:BreakJoints()
    end
})

UtilityTab:Button({
    Title = "服务器信息",
    Callback = function()
        local players = game:GetService("Players")
        Window:Notify({
            Title = "服务器信息",
            Content = "玩家数量: " .. #players:GetPlayers() .. "/" .. game.Players.MaxPlayers,
            Duration = 5,
            Icon = "info",
        })
    end
})

-- 初始化完成提示
task.wait(1)
Window:Notify({
    Title = "脚本加载完成",
    Content = "大司马脚本已成功加载！",
    Duration = 3,
    Icon = "check",
})

print("大司马脚本初始化完成")
