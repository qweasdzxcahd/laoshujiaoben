local Translations = {
    ["Main"] = "主菜单",
    ["Combat"] = "战斗",
    ["Misc"] = "杂项",
    ["Halloween"] = "万圣节",
    ["UI Settings"] = "界面设置",
    ["Troll Players"] = "恶搞玩家",
    ["Sky Squid"] = "天空鱿鱼",
    ["Legit Anti Fall"] = "防坠落",
    ["Hide and Seek"] = "捉迷藏",
    ["Kill Aura (Hiders)"] = "杀戮光环(躲藏者)",
    ["Kill spikes"] = "杀死尖刺",
    ["Remove Spikes"] = "移除尖刺",
    ["Teleport to Hider"] = "传送到躲藏者",
    ["ESP hiders and seeker"] = "透视躲藏者和寻找者",
    ["ESP Doors"] = "透视门",
    ["Teleport 100 Blocks Up"] = "向上传送100格",
    ["Teleport 40 Blocks Down"] = "向下传送40格",
    ["Auto Dodge"] = "自动闪避",
    ["Jump Rope"] = "跳绳",
    ["Teleport to End"] = "传送到终点",
    ["Remove Rope"] = "移除绳子",
    ["Mingle"] = "旋转木马",
    ["Auto QTE Rage (Anti Stun)"] = "自动QTE防晕",
    ["Rage QTE"] = "狂暴QTE",
    ["Noclip"] = "穿墙模式",
    ["Teleport to Room"] = "传送到房间",
    ["FinalDinner"] = "最终晚餐",
    ["Autowin"] = "自动胜利",
    ["Auto Win"] = "自动获胜",
    ["Green Light Red Light"] = "一二三木头人",
    ["Win Instantly"] = "立即获胜",
    ["Help Players"] = "帮助玩家",
    ["remove InjuredWalking"] = "移除受伤行走",
    ["Dalgona"] = "抠糖饼",
    ["Complete Dalgona"] = "完成抠糖饼",
    ["Free Lighter"] = "免费打火机",
    ["Tag of War"] = "拔河比赛",
    ["AUTO PULL"] = "自动拉绳",
    ["Glass Bridge"] = "玻璃桥",
    ["Highlight Glass"] = "高亮玻璃",
    ["Teleport to Safe Zone"] = "传送到安全区",
    ["Return to back"] = "返回后方",
    ["Rebel"] = "反叛",
    ["Auto CamLock Guard"] = "自动锁定守卫",
    ["Bring Guard"] = "带来守卫",
    ["Infinite Ammo"] = "无限弹药",
    ["PlayableGuard features"] = "可玩守卫",
    ["Hitbox Expander(only guns)"] = "命中框扩展(仅枪械)",
    ["No Fired Cooldown"] = "无射击冷却",
    ["Desync op for rebel"] = "反叛异步操作",
    ["Final soon"] = "最终功能",
    ["Kill aura"] = "杀戮光环",
    ["Orbit Radius"] = "环绕半径",
    ["Orbit Speed"] = "环绕速度",
    ["Force Target Nearest"] = "强制锁定最近目标",
    ["General"] = "通用",
    ["FREE GUARD"] = "免费守卫",
    ["Circle"] = "圆圈",
    ["Spawn as Guard"] = "以警卫身份生成",
    ["Auto Farm Money (35s 20M)"] = "自动刷钱(35秒20M)",
    ["Auto Skip Dialogues"] = "自动跳过对话",
    ["Auto Vote"] = "自动投票",
    ["Vote Options"] = "投票选项",
    ["KeepPlaying"] = "继续游戏",
    ["Free Phantomstep"] = "免费幻影步",
    ["Free ParkourArtist"] = "免费跑酷大师",
    ["Free Dash"] = "免费冲刺",
    ["Anti Fling"] = "防甩飞",
    ["Anti Banana"] = "防香蕉",
    ["Anti Stun"] = "防晕眩",
    ["Anti Ragdoll"] = "防布娃娃",
    ["Auto reach"] = "自动到达",
    ["No Cooldown Proximity"] = "无冷却",
    ["Anti Lag"] = "防卡顿",
    ["Movement"] = "移动",
    ["Infinite Jump"] = "无限跳跃",
    ["WalkSpeed"] = "移动速度",
    ["Walk Speed Value"] = "移动速度值",
    ["Reset Walk Speed"] = "重置移动速度",
    ["Automation"] = "自动化",
    ["Auto Collect Flashbang"] = "自动收集闪光弹",
    ["Auto Collect Bandage"] = "自动收集绷带",
    ["Aura"] = "光环",
    ["Attachment"] = "附件",
    ["Camlock Player / TP"] = "镜头锁定玩家/传送",
    ["Auto Weapon"] = "自动武器",
    ["GodMode(risk ban + Use best in Ming)"] = "上帝模式(有封禁风险)",
    ["Anti Ragdoll + No Stun"] = "防布娃娃+无晕眩",
    ["FOV Changer"] = "视野更改器",
    ["FOV Value"] = "视野值",
    ["Reset FOV to Default"] = "重置视野为默认",
    ["Player Attach"] = "玩家附着",
    ["Attach Range"] = "附着范围",
    ["Movement Type"] = "移动类型",
    ["Tween"] = "缓动",
    ["Tween Duration"] = "缓动持续时间",
    ["Stay Behind Target"] = "保持在目标后方",
    ["Behind Distance"] = "后方距离",
    ["Fun"] = "娱乐",
    ["Free VIP (Visual)"] = "免费VIP(视觉)",
    ["Enable Spectate"] = "启用观战",
    ["Set Custom costume"] = "设置自定义服装",
    ["Custom Win"] = "自定义胜利",
    ["Set Custom Tag"] = "设置自定义标签",
    ["Enter tag number 0-999)"] = "输入标签编号0-999)",
    ["Info & Credits"] = "信息和鸣谢",
    ["BorenHub TEAM - Python / Lua"] = "BorenHub团队 - Python/Lua",
    ["Thanks for using BorenHub!"] = "感谢使用BorenHub!",
    ["Executor: Delta"] = "执行器: ",
    ["Copy JobId"] = "复制JobId",
    ["Copy discord"] = "复制discord",
    ["Menu Settings"] = "菜单设置",
    ["Custom Cursor"] = "自定义光标",
    ["DPI Scale"] = "DPI缩放",
    ["Menu Keybind"] = "菜单按键绑定",
    ["Unload"] = "卸载",
    ["Config"] = "配置",
    ["Candy ESP"] = "糖果透视",
    ["ESP Halloween Doors"] = "透视万圣节门",
    ["Select Door"] = "选择门",
    ["Pumpkin"] = "南瓜",
    ["Teleport to Selected Door"] = "传送到选定的门",
    ["https://discord.gg/7M6XVBkaY"] = "by TAX",
    ["Triangle"] = "三角形",
    ["Square"] = "方形",
    ["No Firecd Cooldown"] = "开枪无冷却"
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(3)
        end
    end
end

task.wait(2)

setupTranslationEngine()

local success, err = pcall(function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/eikikrkr-ux/bypasok/refs/heads/main/ok"))()
end)

if not success then
    warn("加载失败:", err)
end